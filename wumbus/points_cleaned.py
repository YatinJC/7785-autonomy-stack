import numpy as np
import matplotlib.pyplot as plt

# Current points
current_points = np.array([
    [-1.02435291, 0.18598573],
    [-0.90574992, -0.0215395],
    [-0.64989263, 1.50995195],
    [-1.07134688, 0.74607927],
    [0.49199921, -0.54808986],
    [0.4913018, 0.47276714],
    [-0.77005339, 1.26438153],
    [0.47950333, 0.57026601],
    [-1.04276192, 0.20780036],
    [0.24587375, -1.47943628],
    [-0.38703826, 1.96775854],
    [0.32525149, -1.47170711],
    [0.16900057, -1.50028467],
    [0.51705933, -0.481951],
    [-0.57121581, -0.56850547],
    [-0.79933524, -0.1552088],
    [-0.63496065, 1.55028963],
    [0.66709125, 0.38856661],
    [0.58760893, 1.47058225],
    [-0.81602371, 1.19446659],
    [-0.44167313, 1.88966072],
    [0.52022552, 0.46487024],
    [0.60052562, 0.38112116],
    [0.57627255, -1.80163825],
    [0.06231179, -1.49005735],
    [1.63105083, 0.67360824],
    [-0.79435402, -0.21061781],
    [0.52887672, -0.50996774],
    [-0.44807562, -0.76787442],
    [-0.98833513, 0.12774397],
    [0.64024907, -0.42424592],
    [-1.09341872, 0.27695918],
    [1.57904184, 0.52473372],
    [-1.12209404, 0.62073094],
    [-1.10936761, 0.3217676],
    [-0.45609504, -0.72124308],
    [-0.94989908, 0.09006197],
    [1.64010048, -0.42355353],
    [-0.69305146, -0.35852796],
    [-0.48856741, 1.7994734],
    [-0.72890633, 1.352175],
    [-0.78241348, 1.23540163],
    [-0.5280326, -0.6241799],
    [-0.8431955, -0.12019344],
    [-0.34471127, -0.9384889],
    [-1.08258069, 0.69979072],
    [-0.41313156, -0.80105913],
    [0.5284971, -0.47489229],
    [-0.8533954, -0.09247603],
    [-1.14450765, 0.37512198],
    [-0.70493597, -0.33506027],
    [0.53625846, 1.49258506],
    [-0.0882183, -1.34581316],
    [-1.03500795, 0.80295539],
    [0.62429082, -0.44701916],
    [-0.92578143, 0.04053871],
    [0.08802675, -1.48403871],
    [-1.14397883, 0.39673787],
    [1.69375443, -0.40515715],
    [-1.05635333, 0.76281697],
    [-0.44276989, -0.79080153],
    [-0.25253028, -1.09247756],
    [-1.05826581, 0.24869698],
    [-0.83988404, -0.13418441],
    [-0.89661062, 1.01965725],
    [-0.66539472, -0.37277338],
    [-0.76503021, 1.30779636],
    [1.64181745, -0.45528921],
    [1.60899901, -0.5722844],
    [0.56418425, -0.45362449],
    [-0.69647676, -0.34548268],
    [-0.46397278, 1.83674371],
    [1.60972452, -0.54051793],
    [-1.07667458, 0.72255313],
    [-0.33366078, -0.96106237],
    [-0.59249532, -0.53203517],
    [-0.1695123, -1.22573364],
    [-0.41610074, 1.93453586],
    [-0.86854535, 1.09855247],
    [0.30465505, -1.50092125],
    [-1.00764334, 0.83869636],
    [-0.60053521, -0.50305486],
    [-0.06570122, -1.38915765],
    [-0.60565084, -0.48996079],
    [1.58509862, 0.55817795],
    [-0.83202481, -0.10427172],
    [-0.80838519, -0.17122796],
    [1.62133408, 0.44406608],
    [1.58573794, 0.49578753],
    [1.65711021, 0.42214087],
    [0.51081187, 0.42541283],
    [0.70288944, 1.51652479],
    [-1.18802953, 0.50613296],
    [-0.68215626, 1.44264853],
    [-0.7495001, -0.26762623],
    [-0.7133612, -0.29573068],
    [-0.64213419, -0.45134133],
    [-0.10969388, -1.3099426],
    [-1.03040516, 0.82833874],
    [0.5028652, -0.54021263],
    [0.13885322, -1.4702394],
    [-0.75950271, -0.24272551],
    [-0.81039065, -0.18600574],
    [0.58502185, -0.4362652],
    [-0.81750828, -0.14463052],
    [-0.65286094, -0.44268546],
    [-0.23890755, -1.12621832],
    [0.51568609, 1.51788092],
    [-0.21920118, -1.12981761],
    [-1.1166054, 0.642986],
    [-0.87046164, -0.05005923],
    [-0.80677819, 1.22662961],
    [-0.92846316, 0.00926911],
    [-0.50889844, -0.64521092],
    [-0.52665496, -0.60057116],
    [0.5774377, -0.4470953],
    [-1.0624727, 0.23071039],
    [-0.12977004, -1.2716316],
    [1.57543504, 0.61857623],
    [-0.73819286, -0.29193687],
    [-0.86942738, -0.0794738],
    [0.62896323, 0.38265878],
    [0.11483741, -1.49054348],
    [0.55316061, -0.46161893],
    [0.27599046, -1.49512982],
    [-0.40310463, -0.81650007],
    [-0.91986978, 0.02471785],
    [-0.95903516, 0.91714042],
    [1.58043611, 0.58833063],
    [-1.10119295, 0.65939325],
    [-1.20451033, 0.46518195],
    [-0.7948029, -0.22517528],
    [-0.57184172, -0.49476945],
    [-0.54694963, -0.58243752],
    [0.70001876, -0.42691493],
    [-1.17076623, 0.54681128],
    [-0.74187881, -0.25072816],
    [0.4920066, 1.53589094],
    [-0.38309374, -0.8502351],
    [-0.4750092, -0.67026407],
    [0.19382897, -1.48742318],
    [-0.20148748, -1.146981],
    [-0.43364188, -0.80745053],
    [-0.98661292, 0.88052243],
    [-0.47579071, -0.69767755],
    [-0.14822531, -1.2298007],
    [-0.04166119, -1.42864323],
    [-0.96170038, 0.95252866],
    [-0.97491115, 0.90076047],
    [0.5495528, 0.40841436],
    [-0.30602685, -0.99338442],
    [-0.762025, -0.22945608],
    [-0.57801181, 1.65622866],
    [-0.31542936, -0.96152997],
    [0.48371974, 0.55511701],
    [-0.99609667, 0.16328786],
    [-1.1776787, 0.43149832],
    [-0.72719663, -0.27325252],
    [-0.01629769, -1.46325898],
    [-0.27890378, -1.03502655],
    [-0.68694156, -0.37018478],
    [0.35588843, -1.48416626],
    [-1.09559298, 0.33802724],
    [0.38406762, -1.48528373],
    [1.66620255, -0.659724],
    [0.4747524, 0.52668101],
    [0.65623283, 1.48592985],
    [0.50292712, -0.60021645],
    [0.5235967, -0.64580607],
    [-1.15685177, 0.56455153],
    [0.52125591, 0.41818517],
    [1.62315166, 0.47574636],
    [-0.90912372, 0.99846864],
    [-0.50724232, -0.66707373],
    [0.66699612, -0.42421311],
    [-1.15231597, 0.58702916],
    [0.01021432, -1.4953084],
    [-0.18561533, -1.1822238],
    [-0.67459863, -0.39348373],
    [-0.54647732, -0.60283256],
    [-0.29027587, -1.00451064],
    [-0.66526902, 1.47345483],
    [-0.5885902, 1.59398997],
    [0.56024981, 0.40064299],
    [0.50580275, -0.58259785],
    [-0.71310437, 1.38028383],
    [0.21905681, -1.47879338],
    [-0.8315264, 1.17283726],
    [0.52231348, -0.54060537],
    [0.52574152, 0.40644342],
    [-0.49816325, -0.67916322],
    [0.43544465, -1.56290388],
    [-0.51445258, -0.62938768],
    [-1.05458784, 0.78968024],
    [-0.71440393, -0.31047934],
    [-0.61892027, -0.46679741],
    [-0.61082953, 1.56894541],
    [-1.10186994, 0.6859287],
    [-0.87749344, -0.03565006],
    [-0.95532262, 0.07431319],
    [0.5045886, -1.68607426],
    [-0.89407867, -0.00616721],
    [0.47778726, 0.44461179],
    [-0.79626739, -0.19682437],
    [-0.60472208, -0.47209364],
    [1.59844625, -0.50536942],
    [0.57891655, 0.38282421],
    [-0.937895, 0.99554539],
    [-0.71025395, -0.32302836],
    [0.50809872, 0.43875116],
    [0.47780806, 0.47703516],
    [-0.65858752, -0.39891505],
    [0.53966463, -0.46742448],
    [-0.74185419, 1.32006943],
    [0.48395479, 0.49999833],
    [1.62282622, -0.60977775],
    [0.47778916, 0.51161587],
    [-0.94149727, 0.96503866],
    [1.71635139, 0.40459028],
    [-0.50948209, 1.7526983],
    [-0.56383252, -0.58073729],
    [-0.44919065, -0.7387805],
    [1.60411942, -0.47592351],
    [-0.61666113, -0.44853115],
    [-0.56924164, -0.54693681],
    [-0.55290949, 1.67825925],
    [-1.08970833, 0.29584596],
    [-0.96923399, 0.10854212],
    [0.5047546, -0.50546592],
    [0.46835116, 1.5550493],
    [-0.53503352, 1.72679746],
    [-0.84511709, 1.14905953],
    [-0.87603354, 1.06905901],
    [0.03545731, -1.47452211],
    [-0.94700229, 0.05755469],
    [0.60540086, -0.41802019],
    [-0.70882446, 1.43430305],
    [-1.18695462, 0.52992713],
    [-0.66228604, -0.43297797],
    [-0.66018289, -0.4155491],
    [-1.20727444, 0.49024254],
    [-0.37944648, -0.88497466],
    [0.56321865, 1.48475802],
    [0.62523812, 1.4866637],
    [0.45005661, 1.59325397],
    [-0.89021754, -0.06632236],
    [-0.47214887, -0.71943963],
    [-0.39844215, -0.8451854],
    [-0.8546465, 1.12043369],
    [-0.9004547, 1.06128061],
    [-1.01037884, 0.14815128],
    [-0.58131826, -0.54000342],
    [-0.36743295, -0.90036446],
    [-0.3536787, -0.91189522],
    [0.57360613, 0.39441544],
    [-1.13524425, 0.60291177],
    [-0.9948076, 0.85740107],
    [-0.26483506, -1.05769336]
])

# Transformed previous points
transformed_points = np.array([
    [-1.00126744, 0.00246979],
    [0.60169094, -0.45627436],
    [-0.77583164, 1.64955194],
    [-0.3295054, -0.79736549],
    [0.61949586, -0.43576165],
    [0.65685614, -0.33392496],
    [-1.10679063, 0.76811083],
    [-0.80128491, 1.55826771],
    [-0.94517011, -0.07877718],
    [-0.64746912, -0.39018641],
    [0.0628039, -1.25070221],
    [0.24762889, 1.59780089],
    [0.1977032, -1.4062409],
    [1.49876247, 0.88649817],
    [0.39653995, 0.60307762],
    [0.45157757, 1.58789071],
    [0.8649152, -1.6753494],
    [-0.63946309, -0.43159482],
    [-1.05734175, 0.81801175],
    [0.51566463, -1.40923686],
    [0.41035194, 0.67248216],
    [0.22334672, 1.62729336],
    [0.5028902, 0.49238443],
    [-0.7103578, -0.33494313],
    [-0.88895623, -0.1357048],
    [-1.07928168, 0.09569146],
    [-1.25922939, 0.31364942],
    [-0.70240917, -0.36096584],
    [-0.43207907, -0.6545949],
    [-0.30304203, -0.81196823],
    [0.28753302, -1.47123928],
    [0.64833311, 0.50824883],
    [0.20258133, 1.69011742],
    [0.35363329, 1.55320391],
    [-0.75660136, -0.28105877],
    [1.48337316, 0.74146197],
    [0.40040439, 0.63216959],
    [-0.69431778, -0.37186704],
    [0.43613473, 0.51218434],
    [-0.55797221, -0.53501526],
    [-0.31415582, -0.79878532],
    [0.5002755, 0.4729147],
    [-1.17700506, 0.52044352],
    [-0.95140884, -0.06294058],
    [-0.70389974, -0.34665848],
    [1.48605487, 0.80964047],
    [0.46288789, 0.5052948],
    [-0.96062315, -0.04706062],
    [-1.12109974, 0.6161066],
    [-0.97120692, -0.0309245],
    [-0.72343445, 1.7764595],
    [0.5125403, 0.46724387],
    [-1.22330405, 0.3496628],
    [-0.85109899, 1.40256622],
    [-1.12074891, 0.13849295],
    [-0.67891432, -0.37851633],
    [-0.16077705, -0.97377085],
    [-0.24750757, -0.89762432],
    [-0.87270069, 1.38318479],
    [0.41846661, 0.56822874],
    [-0.48557506, -0.61385011],
    [-0.26976934, -0.85851974],
    [-1.24815636, 0.33377696],
    [-0.95721279, 1.12921658],
    [-0.64937491, -0.40671062],
    [1.49598025, 0.78104045],
    [-0.74860331, -0.30749762],
    [1.70284319, -0.24369163],
    [-1.04125496, 0.92848293],
    [0.77612871, -1.57370231],
    [-0.21815358, -0.9145855],
    [0.03961931, -1.22517604],
    [-0.5721707, -0.49458832],
    [-1.11523237, 0.69076774],
    [0.47102462, -1.44139309],
    [-0.72486422, -0.32690591],
    [0.01691432, -1.18582508],
    [-0.14675621, -0.99982194],
    [-0.53317521, -0.52847684],
    [1.6951774, -0.27332142],
    [-1.01328057, 0.01988564],
    [0.61217463, -0.39928096],
    [0.40915061, 0.57684854],
    [-0.80173257, -0.22247134],
    [-0.7650108, -0.26947649],
    [0.63611038, -0.35280892],
    [-0.66277362, -0.38431708],
    [-0.78482144, -0.24681682],
    [-0.81819379, 1.5246624],
    [0.54516061, -1.41199962],
    [-1.20652708, 0.43681969],
    [-0.23405838, -0.91098026],
    [0.62365687, -1.39188301],
    [-0.75995557, -0.29718517],
    [-0.3892046, -0.7183027],
    [-0.791423, -0.23417156],
    [-1.02493489, 0.03772156],
    [-0.40626395, -0.69118026],
    [-0.36927937, -0.74201493],
    [0.43506904, -1.41662788],
    [-1.15578276, 0.55943647],
    [0.23168931, -1.45650157],
    [-0.07995254, -1.0642671],
    [0.72547819, -0.31999759],
    [0.43561057, 0.54936754],
    [-1.04675282, 0.839232],
    [-0.77755756, -0.25914753],
    [-0.3864036, -0.7444755],
    [0.30038455, 1.57233683],
    [-0.17746765, -0.96954124],
    [-0.89522495, -0.1210688],
    [-0.8728969, -0.14852714],
    [-0.36138376, -0.75929567],
    [-0.99528907, 0.98504463],
    [-1.15638434, 0.18363807],
    [-0.45907762, -0.6228174],
    [1.71146503, -0.18334668],
    [0.36329351, -1.44990493],
    [-0.74020466, 1.72953689],
    [-1.18346166, 0.4515289],
    [-0.18943324, -0.93921667],
    [1.76518899, -0.12593601],
    [0.70748001, -0.32753355],
    [0.27387102, 1.58360714],
    [-0.93196615, -0.09374744],
    [1.53702776, 0.70124521],
    [-0.83616556, 1.43412388],
    [-1.11490909, 0.63806139],
    [-0.50260098, -0.59229257],
    [-0.02440574, -1.15383007],
    [0.32762771, 1.56526192],
    [0.01691432, -1.18582508],
    [0.60598885, -0.47639735],
    [-1.19961464, 0.41095712],
    [-1.17472631, 0.49528877],
    [-0.79024238, 1.60598714],
    [-1.06839843, 0.76872594],
    [1.4788804, 0.83998002],
    [-1.10210954, 0.70924769],
    [-0.51417319, -0.56513987],
    [0.56458271, 0.4777113],
    [-0.99660184, 1.02163166],
    [1.58014624, 0.68724373],
    [-0.57403748, -0.51389412],
    [-0.04389685, -1.12130696],
    [1.63763724, 0.67785264],
    [0.4164649, 1.57005626],
    [-0.81095842, -0.21024231],
    [-0.20557781, -0.93511208],
    [-1.04551068, 0.05651125],
    [0.40594728, 0.59408355],
    [-0.83256622, -0.18586059],
    [-0.51510634, -0.54672125],
    [0.63500861, -0.38226521],
    [-0.43834106, -0.69093326],
    [1.7327075, -0.15458304],
    [-0.52747664, -0.54113674],
    [-0.91042409, -0.10732974],
    [-1.20411266, 0.23424409],
    [1.70669537, -0.30620883],
    [-0.94781903, 1.15865108],
    [-0.5583085, -0.51704547],
    [-1.01182835, 0.96728033],
    [-0.29200002, -0.82635766],
    [-0.13051467, -1.01311273],
    [-0.48748352, -0.59459151],
    [-0.96471995, 1.09847665],
    [-0.98329272, -0.01445235],
    [-0.97672015, 1.07377869],
    [-0.84348327, -0.17327641],
    [0.33711947, -1.45315481],
    [0.4229072, 0.55357032],
    [-0.47812945, -0.62638519],
    [0.5797043, 0.47275846],
    [-0.61891503, -0.46554897],
    [-0.94577419, 1.19863065],
    [-1.16074177, 0.53728151],
    [-1.25776357, 0.2903378],
    [-1.07299966, 0.07658456],
    [0.38546317, 1.56434023],
    [-0.86978248, -0.16330748],
    [-0.27844168, -0.83381266],
    [-0.41467082, -0.67821777],
    [-0.25922385, -0.8791649],
    [-0.11313486, -1.0182261],
    [1.52100591, 0.72676856],
    [0.47244203, 0.49748068],
    [-0.59311783, -0.47844621],
    [-0.81159167, -0.19570884],
    [-0.39786205, -0.70468638],
    [-1.12601954, 0.11957898],
    [-1.02747542, 0.88410906],
    [-0.60695934, -0.47288966],
    [0.52945646, 0.46527447],
    [-0.58465281, -0.48831021],
    [-0.6997904, 1.80875341],
    [-0.44716695, -0.65305971],
    [-0.73609847, -0.3170556],
    [-1.20271256, 0.38897566],
    [0.38949653, -1.44629809],
    [0.57358858, -1.41101813],
    [-0.33867587, -0.78039455],
    [1.74577128, -0.37722284],
    [-0.65195844, -0.42413111],
    [0.60142366, -0.49028406],
    [0.63381363, -0.36643676],
    [0.08807029, -1.28947624],
    [-0.91091033, 1.24104345],
    [-1.18709896, 0.47662385],
    [0.59986541, -1.40431169],
    [-1.1402564, 0.16094382],
    [-1.20271905, 0.3661734],
    [-0.62009288, -0.43384981],
    [0.62043131, -0.52348915],
    [0.1111251, -1.29289757],
    [0.26099151, -1.47219667],
    [0.74337553, -0.31190681],
    [-0.82395515, 1.47216233],
    [0.4330995, 0.52716893],
    [1.69842316, -0.21246815],
    [-0.88947965, 1.3055222],
    [0.65840669, -0.3495349],
    [-1.10654171, 0.73971828],
    [-0.88724026, 1.35307442],
    [-0.09961858, -1.0785026],
    [0.69208481, -1.47134109],
    [-1.05189757, 0.87409607],
    [0.13880712, -1.33292724],
    [-0.06293499, -1.10685144],
    [-1.15133555, 0.60736385],
    [-0.92667308, 1.21738972],
    [0.60875035, -0.38196901],
    [-0.44335147, -0.62327776],
    [0.47401842, 0.48180811],
    [0.67413382, -0.32740347],
    [-1.05979688, 0.79078493],
    [0.60491895, -0.41016212],
    [0.40805549, -1.41710602],
    [0.61023029, -0.44579388],
    [0.48824655, -1.41086148],
    [0.7873436, -0.31329868],
    [1.71103389, -0.33831442],
    [-0.98051697, 1.04069204],
    [-1.10784303, 0.65971833],
    [-0.60384073, -0.43780467],
    [-0.90844736, 1.28463833],
    [0.30795025, -1.44284013],
    [-1.18254595, 0.20886241],
    [-1.15499147, 0.583964],
    [0.45211402, 0.51173547],
    [0.16705911, -1.36609773],
    [-0.50429632, -0.57369866],
    [-1.23588835, 0.26279869],
    [-0.34408658, -0.75573119],
    [-1.01902323, 0.94070092],
    [-0.76260264, 1.69878237]
])

# Create the plot
plt.figure(figsize=(12, 10))

# Plot both sets of points
plt.scatter(current_points[:, 0], current_points[:, 1],
           c='blue', marker='o', s=30, alpha=0.6, label='Current Points')
plt.scatter(transformed_points[:, 0], transformed_points[:, 1],
           c='red', marker='x', s=30, alpha=0.6, label='Transformed Previous Points')

# Add labels and title
plt.xlabel('X Coordinate', fontsize=12)
plt.ylabel('Y Coordinate', fontsize=12)
plt.title('Odometry Points Visualization', fontsize=14, fontweight='bold')
plt.legend(fontsize=10)
plt.grid(True, alpha=0.3)
plt.axis('equal')

# Add statistics
print("Current Points Statistics:")
print(f"  Number of points: {len(current_points)}")
print(f"  X range: [{current_points[:, 0].min():.3f}, {current_points[:, 0].max():.3f}]")
print(f"  Y range: [{current_points[:, 1].min():.3f}, {current_points[:, 1].max():.3f}]")
print(f"  Mean: ({current_points[:, 0].mean():.3f}, {current_points[:, 1].mean():.3f})")

print("\nTransformed Previous Points Statistics:")
print(f"  Number of points: {len(transformed_points)}")
print(f"  X range: [{transformed_points[:, 0].min():.3f}, {transformed_points[:, 0].max():.3f}]")
print(f"  Y range: [{transformed_points[:, 1].min():.3f}, {transformed_points[:, 1].max():.3f}]")
print(f"  Mean: ({transformed_points[:, 0].mean():.3f}, {transformed_points[:, 1].mean():.3f})")

plt.tight_layout()
plt.savefig('/home/yc/turtlebot3_ws/src/7785-autonomy-stack/wumbus/points_plot.png', dpi=150, bbox_inches='tight')
print("\nPlot saved to: points_plot.png")
plt.show()
